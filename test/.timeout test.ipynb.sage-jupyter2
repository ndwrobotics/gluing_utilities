{"backend_state":"running","connection_file":"/projects/35b11174-4dc1-4a67-b4e3-9c9c5ade0016/.local/share/jupyter/runtime/kernel-0c758563-804a-4c46-962a-0516a1080963.json","kernel":"sagemath","kernel_error":"","kernel_state":"idle","last_ipynb_save":1737775164616,"trust":true,"type":"settings"}
{"cell_type":"code","end":1737771883963,"exec_count":6,"id":"6eb29d","input":"def signal_test():\n    print(magma.Getpid())\n    magma.eval(\"\"\"\nAttachSpec(\"~/CHIMP/CHIMP.spec\");\nfunction DoStuff()\nR<x> := PolynomialRing(Rationals());\nC := HyperellipticCurve(R![13, 0, 9, 0, 2], R![0, 1, 0, 1]);\n\nprec := 200;\nCC := ComplexFieldExtra(prec);\nCSimp := SimplifiedModel(C);\nA := AnalyticJacobian(CSimp : Precision := prec);\nM := ChangeRing(PeriodMatrix(CSimp) * 2, CC);\nFromAnalyticJacobian(Matrix([[CC!-0.8], [CC!0]]), A);\nreturn 1;\nend function;\"\"\")\n    print(\"Evaluation done\")\n    return magma.function_call(\"DoStuff\",[])","kernel":"sagemath","pos":5,"start":1737771883961,"state":"done","type":"cell"}
{"cell_type":"code","end":1737771983847,"exec_count":10,"id":"2e075b","input":"def signal_test_2():\n    print(\"Start\")\n    print(f\"{magma.Getpid()}\")\n    magma.eval(\"Sleep(20);\")","kernel":"sagemath","pos":8,"start":1737771983846,"state":"done","type":"cell"}
{"cell_type":"code","end":1737772068677,"exec_count":13,"id":"eb0564","input":"magma.Getpid()","kernel":"sagemath","output":{"0":{"data":{"text/plain":""},"exec_count":13}},"pos":7,"start":1737772068676,"state":"done","type":"cell"}
{"cell_type":"code","end":1737772281261,"exec_count":22,"id":"999f89","input":"print(try_with_timeout(signal_test_2))\nmagma.quit()\nprint(magma.eval(\"1+1;\"))","kernel":"sagemath","output":{"0":{"name":"stdout","text":"Start\n2391716\n"},"1":{"name":"stderr","text":"IOStream.flush timed out\n"},"2":{"name":"stdout","text":"Operation timed out\nNone\n"},"3":{"name":"stdout","text":"2\n"}},"pos":6,"start":1737772276225,"state":"done","type":"cell"}
{"end":1737734113453,"exec_count":28,"id":"96aade","input":"magma.quit()","kernel":"sagemath","pos":3,"start":1737734113439,"state":"done","type":"cell"}
{"end":1737734163213,"exec_count":31,"id":"25da26","input":"import time\nimport timeout_decorator\n\n@timeout_decorator.timeout(5)\ndef mytest():\n    magma.quit()\n    print(\"Start\")\n    print(f\"{magma.Getpid()}\")\n    magma.eval(\"Sleep(20);\")\n    for i in range(1,10):\n        \n        print(f\"{magma.Getpid()}: {i} seconds have passed\")","kernel":"sagemath","pos":0,"start":1737734163211,"state":"done","type":"cell"}
{"end":1737734308344,"exec_count":39,"id":"3087f7","input":"print(magma.Getpid())\ntry:\n    mytest()\nexcept Exception as e:\n    magma.quit()\n    print(e)\n    print(\"timed out\")","kernel":"sagemath","output":{"0":{"name":"stdout","text":"1870499\n"},"1":{"name":"stdout","text":"Start\n"},"2":{"name":"stdout","text":"1870537\n"},"3":{"name":"stdout","text":"'Timed Out'\ntimed out\n"}},"pos":1,"start":1737734303331,"state":"done","type":"cell"}
{"end":1737734308381,"exec_count":40,"id":"7489c8","input":"print(magma.Getpid())\nx = magma.eval(\"1+1\")\nprint(x)","kernel":"sagemath","output":{"0":{"name":"stdout","text":"1870592\n2\n"}},"pos":2,"start":1737734308349,"state":"done","type":"cell"}
{"end":1737771840535,"exec_count":3,"id":"5babf8","input":"import signal\nimport time\n\nclass TimeoutExpired(Exception):\n    pass\n\ndef alarm_handler(signum, frame):\n    raise TimeoutExpired\n    \ndef try_with_timeout(func, args=(), kwargs={}, timeout=5):\n    # Set the signal handler and a 5-second alarm\n    signal.signal(signal.SIGALRM, alarm_handler)\n    signal.alarm(timeout)\n\n    try:\n        result = func(*args, **kwargs)\n    except TimeoutExpired:\n        print('Operation timed out')\n        result = None\n    finally:\n        signal.alarm(0)  # Disable the alarm\n\n    return result","kernel":"sagemath","pos":4,"start":1737771840533,"state":"done","type":"cell"}
{"id":0,"time":1737771787278,"type":"user"}
{"last_load":1737733825065,"type":"file"}